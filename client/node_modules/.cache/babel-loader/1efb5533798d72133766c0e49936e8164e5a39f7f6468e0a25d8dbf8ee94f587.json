{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akash\\\\OneDrive\\\\Desktop\\\\practicemern\\\\mern-auth-project\\\\client\\\\src\\\\components\\\\WorkersList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WorkersList = () => {\n  _s();\n  const [workers, setWorkers] = useState([]);\n  useEffect(() => {\n    const fetchWorkers = async () => {\n      try {\n        const res = await fetch('http://localhost:5000/api/workers');\n        const data = await res.json();\n        setWorkers(data);\n      } catch (err) {\n        console.error('Failed to fetch workers:', err);\n      }\n    };\n    fetchWorkers();\n  }, []);\n  const handleBooking = id => {\n    setWorkers(prev => prev.map(w => w._id === id ? {\n      ...w,\n      available: false\n    } : w));\n\n    // Optional: send this status to the backend\n    fetch(`http://localhost:5000/api/workers/${id}/book`, {\n      method: 'POST'\n    });\n\n    // Re-enable after 5 minutes (300,000 ms)\n    setTimeout(() => {\n      setWorkers(prev => prev.map(w => w._id === id ? {\n        ...w,\n        available: true\n      } : w));\n    }, 5 * 60 * 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem'\n      },\n      children: \"Workers List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), workers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"No workers found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n        gap: '1.5rem'\n      },\n      children: workers.map(worker => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ddd',\n          borderRadius: '12px',\n          padding: '1rem',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n          textAlign: 'center'\n        },\n        children: [worker.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/uploads/${worker.photo}`,\n          alt: worker.name,\n          style: {\n            width: '100px',\n            height: '100px',\n            objectFit: 'cover',\n            borderRadius: '50%',\n            marginBottom: '1rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100px',\n            height: '100px',\n            borderRadius: '50%',\n            backgroundColor: '#eee',\n            margin: '0 auto 1rem',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '14px',\n            color: '#888'\n          },\n          children: \"No Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: worker.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Work:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 18\n          }, this), \" \", worker.workSpecification || 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Experience:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 18\n          }, this), \" \", worker.experience || 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 18\n          }, this), \" \", worker.location || 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: worker.available ? 'green' : 'red'\n            },\n            children: worker.available ? 'Available' : 'Unavailable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !worker.available,\n          onClick: () => handleBooking(worker._id),\n          style: {\n            padding: '0.5rem 1rem',\n            marginTop: '0.5rem',\n            backgroundColor: worker.available ? '#007bff' : '#ccc',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: worker.available ? 'pointer' : 'not-allowed'\n          },\n          children: \"Book Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this)]\n      }, worker._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkersList, \"8dWHyGGFKocIZErNAr5f9LEm3Qc=\");\n_c = WorkersList;\nexport default WorkersList;\nvar _c;\n$RefreshReg$(_c, \"WorkersList\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","WorkersList","_s","workers","setWorkers","fetchWorkers","res","fetch","data","json","err","console","error","handleBooking","id","prev","map","w","_id","available","method","setTimeout","style","padding","children","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","length","display","gridTemplateColumns","gap","worker","border","borderRadius","boxShadow","photo","src","alt","name","width","height","objectFit","backgroundColor","margin","alignItems","justifyContent","fontSize","color","workSpecification","experience","location","disabled","onClick","marginTop","cursor","_c","$RefreshReg$"],"sources":["C:/Users/akash/OneDrive/Desktop/practicemern/mern-auth-project/client/src/components/WorkersList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst WorkersList = () => {\r\n  const [workers, setWorkers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchWorkers = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:5000/api/workers');\r\n        const data = await res.json();\r\n        setWorkers(data);\r\n      } catch (err) {\r\n        console.error('Failed to fetch workers:', err);\r\n      }\r\n    };\r\n\r\n    fetchWorkers();\r\n  }, []);\r\n\r\n  const handleBooking = (id) => {\r\n    setWorkers((prev) =>\r\n      prev.map((w) =>\r\n        w._id === id ? { ...w, available: false } : w\r\n      )\r\n    );\r\n\r\n    // Optional: send this status to the backend\r\n    fetch(`http://localhost:5000/api/workers/${id}/book`, {\r\n      method: 'POST',\r\n    });\r\n\r\n    // Re-enable after 5 minutes (300,000 ms)\r\n    setTimeout(() => {\r\n      setWorkers((prev) =>\r\n        prev.map((w) =>\r\n          w._id === id ? { ...w, available: true } : w\r\n        )\r\n      );\r\n    }, 5 * 60 * 1000);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem' }}>\r\n      <h2 style={{ textAlign: 'center', marginBottom: '2rem' }}>Workers List</h2>\r\n      {workers.length === 0 ? (\r\n        <p style={{ textAlign: 'center' }}>No workers found.</p>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\r\n            gap: '1.5rem',\r\n          }}\r\n        >\r\n          {workers.map((worker) => (\r\n            <div\r\n              key={worker._id}\r\n              style={{\r\n                border: '1px solid #ddd',\r\n                borderRadius: '12px',\r\n                padding: '1rem',\r\n                boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n                textAlign: 'center',\r\n              }}\r\n            >\r\n              {worker.photo ? (\r\n                <img\r\n                  src={`http://localhost:5000/uploads/${worker.photo}`}\r\n                  alt={worker.name}\r\n                  style={{\r\n                    width: '100px',\r\n                    height: '100px',\r\n                    objectFit: 'cover',\r\n                    borderRadius: '50%',\r\n                    marginBottom: '1rem',\r\n                  }}\r\n                />\r\n              ) : (\r\n                <div\r\n                  style={{\r\n                    width: '100px',\r\n                    height: '100px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#eee',\r\n                    margin: '0 auto 1rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '14px',\r\n                    color: '#888',\r\n                  }}\r\n                >\r\n                  No Photo\r\n                </div>\r\n              )}\r\n              <h3>{worker.name}</h3>\r\n              <p><strong>Work:</strong> {worker.workSpecification || 'N/A'}</p>\r\n              <p><strong>Experience:</strong> {worker.experience || 'N/A'}</p>\r\n              <p><strong>Location:</strong> {worker.location || 'N/A'}</p>\r\n              <p>\r\n                <strong>Status:</strong>{' '}\r\n                <span style={{ color: worker.available ? 'green' : 'red' }}>\r\n                  {worker.available ? 'Available' : 'Unavailable'}\r\n                </span>\r\n              </p>\r\n              <button\r\n                disabled={!worker.available}\r\n                onClick={() => handleBooking(worker._id)}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  marginTop: '0.5rem',\r\n                  backgroundColor: worker.available ? '#007bff' : '#ccc',\r\n                  color: '#fff',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  cursor: worker.available ? 'pointer' : 'not-allowed',\r\n                }}\r\n              >\r\n                Book Now\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkersList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}