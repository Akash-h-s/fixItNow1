{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akash\\\\desktop\\\\practicemern\\\\mern-auth-project\\\\client\\\\src\\\\components\\\\Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    password: '',\n    role: 'user',\n    // or 'worker'\n    location: '',\n    phoneNumber: '',\n    workSpecification: '',\n    experience: '',\n    photo: null\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    setForm(prev => ({\n      ...prev,\n      photo: e.target.files[0]\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('password', form.password);\n    formData.append('role', form.role);\n    formData.append('location', form.location);\n    formData.append('phoneNumber', form.phoneNumber);\n    if (form.role === 'worker') {\n      formData.append('workSpecification', form.workSpecification);\n      formData.append('experience', form.experience);\n    }\n    if (form.photo) {\n      formData.append('photo', form.photo);\n    }\n    try {\n      const res = await axios.post('http://localhost:5000/api/auth/signup', formData);\n      if (res.data.user) {\n        localStorage.setItem('user', JSON.stringify(res.data.user)); // ✅ important\n        navigate('/home');\n      } else {\n        alert('Signup failed. Please try again.');\n      }\n    } catch (err) {\n      console.error('Signup error:', err);\n      alert('Error during signup.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    encType: \"multipart/form-data\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: form.name,\n      onChange: handleChange,\n      placeholder: \"Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      value: form.email,\n      onChange: handleChange,\n      placeholder: \"Email\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      value: form.password,\n      onChange: handleChange,\n      type: \"password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"role\",\n      value: form.role,\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"user\",\n        children: \"User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"worker\",\n        children: \"Worker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"location\",\n      value: form.location,\n      onChange: handleChange,\n      placeholder: \"Location\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phoneNumber\",\n      value: form.phoneNumber,\n      onChange: handleChange,\n      placeholder: \"Phone\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), form.role === 'worker' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"workSpecification\",\n        value: form.workSpecification,\n        onChange: handleChange,\n        placeholder: \"Skill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"experience\",\n        value: form.experience,\n        onChange: handleChange,\n        placeholder: \"Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"photo\",\n      onChange: handleFileChange,\n      accept: \"image/*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"bFzYd0g7ghI7h74ise/gnNCCfs4=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Signup","_s","navigate","form","setForm","name","email","password","role","location","phoneNumber","workSpecification","experience","photo","handleChange","e","value","target","prev","handleFileChange","files","handleSubmit","preventDefault","formData","FormData","append","res","post","data","user","localStorage","setItem","JSON","stringify","alert","err","console","error","onSubmit","encType","children","onChange","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","_c","$RefreshReg$"],"sources":["C:/Users/akash/desktop/practicemern/mern-auth-project/client/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Signup = () => {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role: 'user', // or 'worker'\r\n    location: '',\r\n    phoneNumber: '',\r\n    workSpecification: '',\r\n    experience: '',\r\n    photo: null\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      photo: e.target.files[0]\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', form.name);\r\n    formData.append('email', form.email);\r\n    formData.append('password', form.password);\r\n    formData.append('role', form.role);\r\n    formData.append('location', form.location);\r\n    formData.append('phoneNumber', form.phoneNumber);\r\n\r\n    if (form.role === 'worker') {\r\n      formData.append('workSpecification', form.workSpecification);\r\n      formData.append('experience', form.experience);\r\n    }\r\n\r\n    if (form.photo) {\r\n      formData.append('photo', form.photo);\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/auth/signup', formData);\r\n\r\n      if (res.data.user) {\r\n        localStorage.setItem('user', JSON.stringify(res.data.user)); // ✅ important\r\n        navigate('/home');\r\n      } else {\r\n        alert('Signup failed. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Signup error:', err);\r\n      alert('Error during signup.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n      {/* Add input fields here */}\r\n      <input name=\"name\" value={form.name} onChange={handleChange} placeholder=\"Name\" required />\r\n      <input name=\"email\" value={form.email} onChange={handleChange} placeholder=\"Email\" required />\r\n      <input name=\"password\" value={form.password} onChange={handleChange} type=\"password\" required />\r\n      <select name=\"role\" value={form.role} onChange={handleChange}>\r\n        <option value=\"user\">User</option>\r\n        <option value=\"worker\">Worker</option>\r\n      </select>\r\n      <input name=\"location\" value={form.location} onChange={handleChange} placeholder=\"Location\" required />\r\n      <input name=\"phoneNumber\" value={form.phoneNumber} onChange={handleChange} placeholder=\"Phone\" required />\r\n      {form.role === 'worker' && (\r\n        <>\r\n          <input name=\"workSpecification\" value={form.workSpecification} onChange={handleChange} placeholder=\"Skill\" />\r\n          <input name=\"experience\" value={form.experience} onChange={handleChange} placeholder=\"Experience\" />\r\n        </>\r\n      )}\r\n      <input type=\"file\" name=\"photo\" onChange={handleFileChange} accept=\"image/*\" />\r\n      <button type=\"submit\">Signup</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}