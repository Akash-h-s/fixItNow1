{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akash\\\\desktop\\\\zippedfileofmyproject\\\\mern-auth-project\\\\client\\\\src\\\\components\\\\TrackWorker.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default marker icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultIcon = L.icon({\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\nL.Marker.prototype.options.icon = defaultIcon;\nconst TrackWorker = ({\n  worker,\n  userCoords,\n  fullScreen = false\n}) => {\n  _s();\n  const [workerCoords, setWorkerCoords] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchWorkerCoords = async () => {\n    if (!(worker !== null && worker !== void 0 && worker.location)) {\n      setError('Worker location not available');\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(worker.location)}&format=json&limit=1`);\n      const data = await response.json();\n      if (data.length > 0) {\n        setWorkerCoords({\n          lat: parseFloat(data[0].lat),\n          lng: parseFloat(data[0].lon)\n        });\n      } else {\n        setError('Location not found');\n      }\n    } catch (err) {\n      setError('Failed to fetch coordinates');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (worker) fetchWorkerCoords();\n  }, [worker]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: \"Loading map...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      color: 'red',\n      textAlign: 'center'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 21\n  }, this);\n  if (!workerCoords) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: fullScreen ? 'calc(100vh - 60px)' : '400px',\n      width: '100%',\n      position: 'relative'\n    },\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [workerCoords.lat, workerCoords.lng],\n      zoom: 13,\n      style: {\n        height: '100vh',\n        width: '100vw',\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: [workerCoords.lat, workerCoords.lng],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: worker.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 43\n          }, this), worker.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), userCoords && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [userCoords.lat, userCoords.lng],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: \"Your Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(TrackWorker, \"/0uCR9QHFl/U6oh3w+dzWYxkj6U=\");\n_c = TrackWorker;\nexport default TrackWorker;\nvar _c;\n$RefreshReg$(_c, \"TrackWorker\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","L","jsxDEV","_jsxDEV","defaultIcon","icon","iconUrl","iconSize","iconAnchor","prototype","options","TrackWorker","worker","userCoords","fullScreen","_s","workerCoords","setWorkerCoords","loading","setLoading","error","setError","fetchWorkerCoords","location","response","fetch","encodeURIComponent","data","json","length","lat","parseFloat","lng","lon","err","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","color","height","width","position","center","zoom","zIndex","url","attribution","name","_c","$RefreshReg$"],"sources":["C:/Users/akash/desktop/zippedfileofmyproject/mern-auth-project/client/src/components/TrackWorker.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\n// Fix for default marker icons\r\nconst defaultIcon = L.icon({\r\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n});\r\nL.Marker.prototype.options.icon = defaultIcon;\r\n\r\nconst TrackWorker = ({ worker, userCoords, fullScreen = false }) => {\r\n  const [workerCoords, setWorkerCoords] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchWorkerCoords = async () => {\r\n    if (!worker?.location) {\r\n      setError('Worker location not available');\r\n      return;\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(\r\n          worker.location\r\n        )}&format=json&limit=1`\r\n      );\r\n      const data = await response.json();\r\n      if (data.length > 0) {\r\n        setWorkerCoords({\r\n          lat: parseFloat(data[0].lat),\r\n          lng: parseFloat(data[0].lon),\r\n        });\r\n      } else {\r\n        setError('Location not found');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to fetch coordinates');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (worker) fetchWorkerCoords();\r\n  }, [worker]);\r\n\r\n  if (loading) return <div style={{ padding: '20px', textAlign: 'center' }}>Loading map...</div>;\r\n  if (error) return <div style={{ padding: '20px', color: 'red', textAlign: 'center' }}>{error}</div>;\r\n  if (!workerCoords) return null;\r\n\r\n  return (\r\n    <div style={{ \r\n      height: fullScreen ? 'calc(100vh - 60px)' : '400px', \r\n      width: '100%',\r\n      position: 'relative'\r\n    }}>\r\n      <MapContainer\r\n        center={[workerCoords.lat, workerCoords.lng]}\r\n        zoom={13}\r\n        style={{ \r\n          height: '100vh', \r\n          width: '100vw',\r\n          zIndex: 1 \r\n        }}\r\n      >\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n        <Marker position={[workerCoords.lat, workerCoords.lng]}>\r\n          <Popup>\r\n            <strong>{worker.name}</strong><br />\r\n            {worker.location}\r\n          </Popup>\r\n        </Marker>\r\n        {userCoords && (\r\n          <Marker position={[userCoords.lat, userCoords.lng]}>\r\n            <Popup>Your Location</Popup>\r\n          </Marker>\r\n        )}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackWorker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}